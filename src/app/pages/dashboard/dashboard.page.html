<ion-header>
  <app-main-header [nombre]="'Yamid Sanabria'" [avatar]="'assets/img/foto.png'" (logout)="logout()"></app-main-header>
</ion-header>

<ion-content class="dash" [scrollY]="true" fullscreen>


  <!-- Navigation Tabs para el mapa -->
  <div class="map-tabs-container">
    <ion-segment [(ngModel)]="tabMapaActivo" (ionChange)="cambiarTabMapa($event.detail.value)">
      <ion-segment-button value="votantes">
        <ion-label>Votantes</ion-label>
      </ion-segment-button>
      <ion-segment-button value="incidencias">
        <ion-label>Incidencias</ion-label>
      </ion-segment-button>
    </ion-segment>
  </div>

  <!-- üó∫Ô∏è MAPA -->
  <div id="map-wrapper">
    <div id="map"></div>

    <!-- Overlay clickeable para abrir mapa detallado correspondiente -->
    <div class="map-overlay" (click)="abrirMapaDetallado()">
      <div class="map-expand-hint">
      </div>
    </div>

    <div class="leyenda">
      <div class="leyenda-title" *ngIf="tabMapaActivo === 'votantes'">Votantes por Municipio</div>
      <div class="leyenda-title" *ngIf="tabMapaActivo === 'incidencias'">Incidencias por Municipio</div>
      <!-- <div><span class="color rojo"></span> Alta densidad (70%+)</div>
      <div><span class="color amarillo"></span> Media densidad (40-70%)</div>
      <div><span class="color verde"></span> Baja densidad (&lt;40%)</div> -->
    </div>
  </div>

  <!-- üî¢ TARJETAS SUPERIORES -->
  <div class="dashboard-grid">
    <div class="card alert" (click)="navigateToIncidencias()">
      <ion-icon name="warning-outline"></ion-icon>
      <p>Incidencias</p>
      <h2>{{ totalIncidencias }}</h2>
    </div>
    <div class="card group" (click)="navigateToVotantes()">
      <ion-icon name="people-outline"></ion-icon>
      <p>Votantes</p>
      <h2>{{ userCount }}</h2>
    </div>
    <div class="card total-lideres" (click)="navigateToLideres()">
      <ion-icon name="person-add-outline"></ion-icon>
      <p>Total L√≠deres</p>
      <h2>{{ userLeadersCount }}</h2>
    </div>
  </div>

  <!-- üîΩ TARJETAS INFERIORES -->
  <!-- <div class="dashboard-subgrid">
    <div class="card-info lider-card">
      <h3>L√≠deres</h3>
      <canvas id="liderChart" width="100" height="40"></canvas>
      <p>14 registrados esta semana (vs 8 semana pasada)</p>
      <ion-button size="small" expand="block" class="boton-neutro">Registrar l√≠der</ion-button>
    </div>




    <div class="card-info blog-card">
      <h3>Blog</h3>
      <canvas id="blogChart" width="100" height="40"></canvas>
      <p>7 art√≠culos esta semana (vs 5 semana pasada)</p>
      <ion-button size="small" expand="block" class="boton-neutro">Ver m√°s</ion-button>
    </div>


  </div> -->

  <!-- <ion-item button lines="none" class="casta-item">
    <ion-label>Casta</ion-label>
    <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
  </ion-item> -->
</ion-content>
