<ion-header>
  <app-main-header
    [nombre]="user?.nombre + ' ' + user?.apellido"
    [avatar]="user?.foto || 'assets/img/foto.png'"
    (logout)="logout()"
  ></app-main-header>
</ion-header>

<ion-content class="ion-padding">
  <ion-card *ngIf="user">
    <ion-card-header>
      <ion-card-title>Hola {{ user.nombre_completo }}</ion-card-title>
      <ion-card-subtitle>Rol: {{ user.rol }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <p><strong>Email:</strong> {{ user.correo	 }}</p>
      <p><strong>Cédula:</strong> {{ user.cedula }}</p>
      <p><strong>Celular:</strong> {{ user.celular }}</p>
      <p><strong>Municipio:</strong> {{ user.municipio }}</p>
      <p><strong>Lugar de votación:</strong> {{ user.lugar_votacion }}</p>
      <div *ngIf="user.permisos">
        <strong>Permisos:</strong>
        <ion-chip *ngFor="let permiso of getPermissionsList()" color="success">
          <ion-label>{{ permiso }}</ion-label>
        </ion-chip>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Botón para registrar usuarios (solo si tiene permisos) -->
  <ion-card *ngIf="user?.permisos?.puede_registrar_usuarios" button (click)="openRegisterModal()" class="register-card">
    <ion-card-content class="register-card-content">
      <ion-icon name="person-add-outline" class="register-icon"></ion-icon>
      <div class="register-text">
        <h3>Registrar Usuario</h3>
        <p>Agregar un nuevo usuario al sistema</p>
      </div>
      <ion-icon name="chevron-forward-outline" class="chevron-icon"></ion-icon>
    </ion-card-content>
  </ion-card>
</ion-content>
